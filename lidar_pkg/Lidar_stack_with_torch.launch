<launch>


  <node pkg="nodelet" type="nodelet" name="standalone_nodelet"  args="manager" output="screen"/>

  <include file="$(find ford_demo)/launch/multi_lidar_convert.launch"/>
  <!-- <remap from="/lidar_yellow_pointcloud" to="AggregatePoints/lidar_yellow_pointcloud"/>
  <remap from="/lidar_red_pointcloud" to="AggregatePoints/lidar_red_pointcloud"/>
  <remap from="/lidar_blue_pointcloud" to="AggregatePoints/lidar_blue_pointcloud"/>
  <remap from="/lidar_green_pointcloud" to="AggregatePoints/lidar_green_pointcloud"/> -->
  <!-- </include> --> -->


  <node pkg="nodelet" type="nodelet" name="AggregatePoints" args="load lidar_pkg/AggregatePoints standalone_nodelet" output="screen">
    <remap from="/AggregatePoints/agg_points" to="MrfGroundSeg/agg_points"/> -->
  </node>

  <node pkg="nodelet" type="nodelet" name="MrfGroundSeg" args="load lidar_pkg/MrfGroundSeg standalone_nodelet" output="screen">
    <remap from="/MrfGroundSeg/mrf_filtered_points" to="OccupancyGridGeneration/mrf_filtered_points"/>
  </node>

  <node pkg="nodelet" type="nodelet" name="OccupancyGridGeneration" args="load lidar_pkg/OccupancyGridGeneration standalone_nodelet" output="screen">
    <remap from="/OccupancyGridGeneration/occupancy" to="InferenceTorch/occupancy"/>
    <remap from="/OccupancyGridGeneration/masses" to="InferenceTorch/masses"/>
  </node>

 <node pkg="nodelet" type="nodelet" name="InferenceTorch" args="load lidar_pkg/InferenceTorch standalone_nodelet" output="screen">
    <remap from="/InferenceTorch/prediction_all" to="Visualize/prediction_all"/>
  </node>

  <node pkg="nodelet" type="nodelet" name="Visualize" args="load lidar_pkg/Visualize standalone_nodelet" output="screen">
  </node>

</launch>
